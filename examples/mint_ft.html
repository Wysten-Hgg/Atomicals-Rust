<!DOCTYPE html>
<html>
<head>
    <title>Atomicals FT Minting</title>
    <script type="module">
        import init, { AtomicalsWasm } from '../pkg/atomicals_rs.js';

        async function mintFT() {
            await init();

            const walletType = document.getElementById('walletType').value;
            const tick = document.getElementById('tick').value;
            const maxSupply = BigInt(document.getElementById('maxSupply').value);
            const mintAmount = BigInt(document.getElementById('mintAmount').value);
            const mintHeight = parseInt(document.getElementById('mintHeight').value);
            const maxMints = parseInt(document.getElementById('maxMints').value);
            const mintBitworkc = document.getElementById('mintBitworkc').value || null;

            try {
                const atomicals = new AtomicalsWasm(walletType);
                const txid = await atomicals.mint_ft(
                    tick,
                    maxSupply,
                    mintAmount,
                    mintHeight,
                    maxMints,
                    mintBitworkc
                );
                
                document.getElementById('result').textContent = `Success! Transaction ID: ${txid}`;
            } catch (error) {
                document.getElementById('result').textContent = `Error: ${error}`;
            }
        }

        window.mintFT = mintFT;
    </script>
</head>
<body>
    <h1>Atomicals FT Minting</h1>
    
    <div>
        <label>Wallet Type:</label>
        <select id="walletType">
            <option value="unisat">UniSat</option>
            <option value="wizz">Wizz</option>
        </select>
    </div>

    <div>
        <label>Ticker:</label>
        <input type="text" id="tick" placeholder="e.g., atom">
    </div>

    <div>
        <label>Max Supply:</label>
        <input type="number" id="maxSupply" placeholder="e.g., 21000000">
    </div>

    <div>
        <label>Mint Amount:</label>
        <input type="number" id="mintAmount" placeholder="e.g., 1000">
    </div>

    <div>
        <label>Mint Height:</label>
        <input type="number" id="mintHeight" placeholder="e.g., 0">
    </div>

    <div>
        <label>Max Mints:</label>
        <input type="number" id="maxMints" placeholder="e.g., 21000">
    </div>

    <div>
        <label>Mining Prefix (optional):</label>
        <input type="text" id="mintBitworkc" placeholder="e.g., abc">
    </div>

    <button onclick="mintFT()">Mint FT</button>

    <div id="result"></div>
</body>
</html>
